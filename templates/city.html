<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Weather Details</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<style>
    .circle-container {
        position: relative;
        width: 150px;
        height: 150px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .circle-text {
        position: absolute;
        font-size: 24px;
        font-weight: bold;
        color: #4caf50;
    }
</style>
<body>
    <nav class="navbar">
        <h1>Weather App</h1>
    </nav>
    <center>
        <h1>{{weather.city}}</h1>
    </center>
    
    <div class="city-container">
        
        <div class="city-left">
            <table>
                <tbody>
                    <tr>
                        <th>Condition</th>
                        <td>{{ weather.main_weather }}</td>
                    </tr>
                    <tr>
                        <th>Humidity</th>
                        <td>{{ weather.humidity }} °C</td>
                    </tr>
                    <tr>
                        <th>Wind speed</th>
                        <td>{{ weather.wind_speed }} °C</td>
                    </tr>
                    <tr>
                        <th>Maximum temperature</th>
                        <td>{{ weather.max_temp }} °C</td>
                    </tr>
                    <tr>
                        <th>Minimum temperature</th>
                        <td>{{ weather.min_temp }} °C</td>
                    </tr>
                    <tr>
                        <th>Average temperature</th>
                        <td>{{ weather.avg_temp }} °C</td>
                    </tr>
                    <tr>
                        <th>Date</th>
                        <td>{{ weather.date }}</td>
                    </tr>
                    <tr>
                        <th>Time</th>
                        <td>{{ weather.time }}</td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="city-right">
            <input type="hidden" id="hidden_value1" value="{{ weather.temperature}}">
            <input type="hidden" id="hidden_value2" value="{{ weather.feels_like}}">
            <div class="upper">
                <h3>Temperature </h3>
                <div class="circle-container" id="progress-circle1">
                    <div class="circle-text">{{ weather.temperature }}%</div>
                </div>
            </div>
            <div class="upper">
                <h3>Feels LIke</h3>
                <div class="circle-container" id="progress-circle2">
                    <div class="circle-text">{{ weather.feels_like }}%</div>
                </div>
            </div>
            </div>
        </div>
    </div>
    <center>
    <h4>Dominant weather :{{weather.dominant}}</h4></center>
    <script>
        // Get the value from the hidden input
        let hiddenValue1 = document.getElementById('hidden_value1').value;
        let hiddenValue2 = document.getElementById('hidden_value2').value;

        // Use the hidden value to set the background dynamically
        document.getElementById('progress-circle1').style.background = 
            `conic-gradient(#4caf50 ${hiddenValue1}%, #ddd ${hiddenValue1}%`;

            document.getElementById('progress-circle2').style.background = 
            `conic-gradient(#4caf50 ${hiddenValue2}%, #ddd ${hiddenValue2}%`;

        console.log(`Hidden value used: ${hiddenValue}`);  // Debugging line to verify the value
    </script>
</body>
</html>